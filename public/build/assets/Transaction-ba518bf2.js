import{r as l,a,j as e,b as m}from"./app-bc4c702b.js";import{M as h}from"./MainLayout-64deb286.js";import{H as p}from"./Heading-110a5195.js";import{f}from"./FormatCurrency-0ed217c7.js";import{L as y}from"./LinkButton-8c9f5024.js";import{A as u}from"./Alert-01071274.js";import{M as N}from"./Modal-c2b6f042.js";function S({transactions:r,session:n}){const[o,d]=l.useState(!1),[s,i]=l.useState(null);return a(h,{children:[e(m,{title:"Transactions History"}),a("div",{className:"min-h-screen",children:[e(p,{title:"Transactions History"}),a("div",{className:"mt-12 relative h-max overflow-auto",children:[n.message&&e(u,{}),a("table",{className:"w-full table-auto text-left",children:[e("thead",{className:"text-gray-100 font-medium border-b",children:a("tr",{children:[e("th",{className:"py-3 pr-6",children:"#"}),e("th",{className:"py-3 pr-6",children:"Date"}),e("th",{className:"py-3 pr-6",children:"Total Cost"}),e("th",{className:"py-3 pr-6",children:"See Ticket"}),e("th",{className:"py-3 pr-6",children:"Cancel Transaction/Canceled at"})]})}),e("tbody",{className:"text-gray-100 divide-y",children:r.length>0?r.map((t,c)=>a("tr",{children:[e("td",{className:"pr-6 py-4 whitespace-nowrap",children:c+1}),e("td",{className:"pr-6 py-4 whitespace-nowrap",children:t.created_at}),e("td",{className:"pr-6 py-4 whitespace-nowrap",children:f.format(t.total_cost)}),e("td",{className:"pr-6 py-4 whitespace-nowrap",children:t.is_canceled?e("p",{className:"font-semibold",children:"Transaction canceled"}):e(y,{href:route("transactions.show",t),classname:"font-medium hover:bg-gray-100 border-gray-100 hover:text-red-600",children:"See Ticket"})}),e("td",{className:"pr-6 py-4 whitespace-nowrap",children:t.is_canceled?a("p",{children:["Canceled at: ",e("span",{className:"font-semibold",children:t.updated_at})]}):e("button",{onClick:b=>{d(!0),i(t)},className:"block py-3 px-4 text-center text-gray-100 border hover-transition 600 rounded-lg shadow font-medium bg-red-600 border-red-600 hover:bg-red-700",children:"Cancel"})})]},c)):e("tr",{children:e("td",{className:"pr-6 py-4 whitespace-nowrap",colSpan:"5",children:e("h3",{className:"text-center font-bold text-2xl",children:"Hmm...no transactions yet. Have you made at least one transaction?"})})})})]})]})]}),o?a(N,{transaction:s,children:[e("p",{className:"font-bold text-xl mb-6",children:"This can't be undone!"}),a("p",{children:["Are you sure to cancel transaction on ",e("span",{className:"font-semibold",children:s.created_at}),"?"]})]}):""]})}export{S as default};
